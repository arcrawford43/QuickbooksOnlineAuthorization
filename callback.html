<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>QuickBooks OAuth Redirect</title>
  <style>body{font-family:system-ui,Segoe UI,Arial;margin:2rem;max-width:720px}</style>
</head>
<body>
  <h2>Authorization received</h2>
  <p>Copy these values into your app to complete setup.</p>
  <pre id="out" style="padding:12px;border:1px solid #ddd;border-radius:8px;background:#f8f8f8;"></pre>
  <button id="copy">Copy to clipboard</button>
  <script>
    const p = new URLSearchParams(location.search);
    const code = p.get('code') || '(missing)';
    const realmId = p.get('realmId') || '(missing)';
    const state = p.get('state') || '';
    const text = `code=${code}\nrealmId=${realmId}\nstate=${state}`;
    document.getElementById('out').textContent = text;
    document.getElementById('copy').onclick = async () => {
      try { await navigator.clipboard.writeText(text); alert('Copied'); } catch(e){ alert('Copy failed'); }
    };
  </script>
  <p>You can now close this tab.</p>
</body>
</html>
